---
layout: default
---

<div class="space-y-8">
  <!-- Page Title -->
  <h1 class="text-2xl font-bold">{{ page.title }}</h1>
  
  <!-- Page Description -->
  {% if page.description %}
  <div class="prose max-w-none text-gray-600 dark:text-gray-400">
    {{ page.description }}
  </div>
  {% endif %}

  <!-- Content (posts or publications) -->
  <div class="space-y-8">
    {% comment %} Group content by year {% endcomment %}
    {% if page.collection == 'publications' %}
      {% assign items = site.publications | sort: 'date' | reverse %}
    {% else %}
      {% assign items = site.posts | sort: 'date' | reverse %}
    {% endif %}
    
    {% assign grouped_items = items | group_by_exp: "item", "item.date | date: '%Y'" %}
    
    {% for year_group in grouped_items %}
    <section>
      <h2 class="text-lg font-semibold mb-4 text-gray-800 dark:text-gray-200">{{ year_group.name }}</h2>
      <div class="space-y-3">
        {% for item in year_group.items %}
        <article class="group">
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-start gap-2">
            <div class="flex-1">
              <h3>
                <a href="{{ item.url | relative_url }}" class="content-link font-medium group-hover:underline">
                  {{ item.title }}
                </a>
              </h3>
              {% if item.description or item.excerpt %}
              <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
                {{ item.description | default: item.excerpt | strip_html | truncate: 150 }}
              </p>
              {% endif %}
              {% if item.authors %}
              <p class="text-xs text-gray-500 dark:text-gray-500 mt-1">
                {{ item.authors }}
              </p>
              {% endif %}
            </div>
            <div class="text-sm text-gray-500 dark:text-gray-500 flex-shrink-0">
              {{ item.date | date: "%B %d" }}
            </div>
          </div>
        </article>
        {% endfor %}
      </div>
    </section>
    {% endfor %}
    
    {% comment %} If no items found {% endcomment %}
    {% if items.size == 0 %}
    <div class="text-center py-12">
      <p class="text-gray-600 dark:text-gray-400">No {{ page.collection | default: 'posts' }} found yet.</p>
    </div>
    {% endif %}
  </div>
</div> 